---
/**
 * Notification Component
 *
 * @description A versatile notification component with support for different types and ARIA roles
 */
interface Props {
  /**
   * Additional classes to apply to the Notification
   */
  class?: string
  /**
   * Notification message
   */
  message?: string
  /**
   * Type of notification
   * @default "default"
   */
  type?: 'info' | 'success' | 'warning' | 'error' | 'default'
  /**
   * ARIA role for the notification
   * @default "none"
   */
  role?: 'none' | 'alert' | 'log' | 'marquee' | 'status' | 'timer' | 'region'
  /**
   * ARIA live region behavior
   * @default "off"
   */
  ariaLive?: 'off' | 'polite' | 'assertive'
  /**
   * Rest of props to spread
   */
  [key: string]: any
}

const {
  class: className,
  message = 'This is a notification!',
  type = 'default',
  role = 'none',
  ariaLive = 'off',
  ...rest
} = Astro.props
---

<aside
  class:list={['notification', `type-${type}`, className]}
  role={role}
  aria-live={ariaLive}
  {...rest}
>
  <slot>
    <p><strong>Message:</strong> {message}</p>
  </slot>
</aside>

<style>
  :where(.notification) {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    border: 2px solid;
    border-radius: 0.5rem;
    padding: 1rem;
  }

  /* Default */
  :where(.notification) {
    border-color: var(--color-default-border);
    background-color: var(--color-default-bg);
    color: var(--color-default-text);
  }

  /* Info */
  :where(.type-info) {
    border-color: var(--color-info-border);
    background-color: var(--color-info-bg);
    color: var(--color-info-text);
  }

  /* Success */
  :where(.type-success) {
    border-color: var(--color-success-border);
    background-color: var(--color-success-bg);
    color: var(--color-success-text);
  }

  /* Warning */
  :where(.type-warning) {
    border-color: var(--color-warning-border);
    background-color: var(--color-warning-bg);
    color: var(--color-warning-text);
  }

  /* Error */
  :where(.type-error) {
    border-color: var(--color-error-border);
    background-color: var(--color-error-bg);
    color: var(--color-error-text);
  }

  :where(.notification) :global(svg) {
    flex-shrink: 0;
    inline-size: 1.5rem;
    block-size: auto;
  }
</style>
